<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OBS Display</title>
    <style>
body {
    margin: 0;
    overflow: hidden;
    background-color: black;
    width: 1920px;
    height: 1080px;
}

/* Định nghĩa kiểu chung */
.slot {
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    border: 3px solid white;
}

/* Kích thước các slot */
.ban {
    width: 70px;
    height: 100px;
}
.pick {
    width: 120px;
    height: 174px;
}

/* Ban List A */
#banListA {
    position: absolute;
    left: 280px;
    display: flex;
    gap: 20px;

}

/* Ban List B */
#banListB {
    position: absolute;
    left: 900px;
    gap: 20px;
    display: flex;

}

/* Pick List A */
#pickListA {
    position: absolute;
    top: 120px;
    left: 50px;
    display: flex;

}

/* Pick List B */
#pickListB {
    position: absolute;
    top: 120px;
    left: 870px;
    display: flex;

}

.active-ban {
    background-color: rgba(255, 255, 0, 0.5); /* Màu vàng nhạt để nổi bật */
    animation: glow 1s infinite;
}

@keyframes glow {
    0% { box-shadow: 0 0 10px yellow; }
    50% { box-shadow: 0 0 20px orange; }
    100% { box-shadow: 0 0 10px yellow; }
}

.locked {
    filter: grayscale(100%);
    animation: zoomInOut 0.5s forwards;
}

@keyframes zoomInOut {
    0% { transform: scale(1); }
    50% { transform: scale(1.2); }
    100% { transform: scale(1); }
}


    
        /* Vị trí các ô Ban */
        #banA1 { top: 50px; left: 50px; }
        #banA2 { top: 50px; left: 130px; }
        #banA3 { top: 50px; left: 210px; }
        #banA4 { top: 50px; left: 290px; }
    
        #banB1 { top: 50px; left: 400px; }
        #banB2 { top: 50px; left: 480px; }
        #banB3 { top: 50px; left: 560px; }
        #banB4 { top: 50px; left: 640px; }
    
        /* Vị trí các ô Pick */
        #pickA1 { top: 200px; left: 50px; }
        #pickA2 { top: 200px; left: 200px; }
        #pickA3 { top: 200px; left: 350px; }
        #pickA4 { top: 200px; left: 500px; }
        #pickA5 { top: 200px; left: 650px; }
    
        #pickB1 { top: 200px; left: 800px; }
        #pickB2 { top: 200px; left: 950px; }
        #pickB3 { top: 200px; left: 1100px; }
        #pickB4 { top: 200px; left: 1250px; }
        #pickB5 { top: 200px; left: 1400px; }
    </style>
    
    
</head>
<body>
    <div id="banListA" class="ban-list">
        <div id="banA1" class="slot ban"></div>
        <div id="banA2" class="slot ban"></div>
        <div id="banA3" class="slot ban"></div>
        <div id="banA4" class="slot ban"></div>
    </div>
    
    <div id="banListB" class="ban-list">
        <div id="banB1" class="slot ban"></div>
        <div id="banB2" class="slot ban"></div>
        <div id="banB3" class="slot ban"></div>
        <div id="banB4" class="slot ban"></div>
    </div>
    
    <div id="pickListA" class="pick-list">
        <div id="pickA1" class="slot pick"></div>
        <div id="pickA2" class="slot pick"></div>
        <div id="pickA3" class="slot pick"></div>
        <div id="pickA4" class="slot pick"></div>
        <div id="pickA5" class="slot pick"></div>
    </div>
    
    <div id="pickListB" class="pick-list">
        <div id="pickB1" class="slot pick"></div>
        <div id="pickB2" class="slot pick"></div>
        <div id="pickB3" class="slot pick"></div>
        <div id="pickB4" class="slot pick"></div>
        <div id="pickB5" class="slot pick"></div>
    </div>
    
    <script>
        const socket = new WebSocket('ws://localhost:8080');

        socket.onmessage = (event) => {
            if (event.data instanceof Blob) {
                event.data.text().then((text) => {
                    const data = JSON.parse(text); 
                    updateSlot(data);
                }).catch((err) => console.error('Error parsing Blob:', err));
            } else {
                const data = JSON.parse(event.data); 
                updateSlot(data);
            }
        };

        // Hàm cập nhật giao diện slot
        function updateSlot(data) {
            console.log("Received data:", data);
            const slot = document.getElementById(data.slotId);
            if (slot) {
                slot.style.backgroundImage = `url(${data.image})`;
            }
        }
    </script>
</body>
</html>
